[gd_scene load_steps=28 format=3 uid="uid://c1vytaa0smbmc"]

[ext_resource type="Script" path="res://Script/Character/enemy_3.gd" id="1_mmq3y"]
[ext_resource type="Texture2D" uid="uid://cw4n0tryvdyyf" path="res://Art/DARK Edition/Sprites/Hell Bot DARK/shoot 92x36.png" id="1_qwl8n"]
[ext_resource type="Shader" path="res://enemy_1.gdshader" id="1_wu4i7"]
[ext_resource type="Texture2D" uid="uid://bp8wb85ry0e8u" path="res://Art/DARK Edition/Sprites/Hell Bot DARK/shoot 92x36_recentered.png" id="3_ae8cw"]
[ext_resource type="Texture2D" uid="uid://bugdfudbuglda" path="res://Art/DARK Edition/Sprites/Hell Bot DARK/idle 92x36.png" id="3_jcbwu"]
[ext_resource type="Texture2D" uid="uid://cwx8yq17wsfen" path="res://Art/DARK Edition/Sprites/Hell Bot DARK/run 92x36.png" id="4_ma0m0"]
[ext_resource type="Texture2D" uid="uid://c0luv2rqavue1" path="res://Art/DARK Edition/Sprites/Hell Bot DARK/attack 92x36.png" id="7_p4n2v"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i8oj8"]
shader = ExtResource("1_wu4i7")
shader_parameter/hit_opacity = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vved3"]
size = Vector2(20, 25)

[sub_resource type="Animation" id="Animation_j2eho"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(27, -7)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:vframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite:texture")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("1_qwl8n")]
}

[sub_resource type="Animation" id="Animation_x7byt"]
resource_name = "attack1"
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.15, 0.2, 0.3, 0.4, 0.5, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [5, 4, 4, 0, 1, 2, 3, 4]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_ae8cw")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, -7)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite:hframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite:vframes")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}

[sub_resource type="Animation" id="Animation_smtdk"]
resource_name = "attack2"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("7_p4n2v")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite:vframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 2, 4, 6, 8, 10]
}

[sub_resource type="Animation" id="Animation_4q1rl"]
resource_name = "idle"
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(4, -7)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_jcbwu")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite:frame")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 2, 4, 6, 8, 10]
}

[sub_resource type="Animation" id="Animation_ruecs"]
resource_name = "walk"
length = 0.75
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(4, -7)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("4_ma0m0")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite:hframes")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [8]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite:frame")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 2, 4, 6, 8, 10, 12, 14]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3kmab"]
_data = {
"RESET": SubResource("Animation_j2eho"),
"attack1": SubResource("Animation_x7byt"),
"attack2": SubResource("Animation_smtdk"),
"idle": SubResource("Animation_4q1rl"),
"walk": SubResource("Animation_ruecs")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nlvb7"]
size = Vector2(62, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w671d"]
size = Vector2(20, 23)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wmf7o"]
animation = &"attack1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qs8lw"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d23ue"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_beiex"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_djwvh"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p8eyo"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_12dno"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ncrxe"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gik8y"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_1fp25"]
states/Start/position = Vector2(194, 100)
states/attack1/node = SubResource("AnimationNodeAnimation_wmf7o")
states/attack1/position = Vector2(474, 29)
states/idle/node = SubResource("AnimationNodeAnimation_qs8lw")
states/idle/position = Vector2(330, 100)
states/walk/node = SubResource("AnimationNodeAnimation_d23ue")
states/walk/position = Vector2(604, 100)
transitions = ["idle", "attack1", SubResource("AnimationNodeStateMachineTransition_beiex"), "attack1", "walk", SubResource("AnimationNodeStateMachineTransition_djwvh"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_p8eyo"), "attack1", "idle", SubResource("AnimationNodeStateMachineTransition_12dno"), "walk", "attack1", SubResource("AnimationNodeStateMachineTransition_ncrxe"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_gik8y")]
graph_offset = Vector2(-355, -39)

[node name="Enemy3" type="CharacterBody2D" groups=["enemy"]]
material = SubResource("ShaderMaterial_i8oj8")
collision_layer = 2
collision_mask = 2
script = ExtResource("1_mmq3y")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
light_mask = 2
visibility_layer = 2
position = Vector2(0, -2.5)
shape = SubResource("RectangleShape2D_vved3")

[node name="Sprite" type="Sprite2D" parent="."]
light_mask = 2
visibility_layer = 2
position = Vector2(27, -7)
texture = ExtResource("1_qwl8n")
vframes = 6

[node name="RayCast2D" type="RayCast2D" parent="Sprite"]
position = Vector2(1, 7)
rotation = 1.57079
scale = Vector2(2.13316, -5.22006)
target_position = Vector2(0.0002834, 31.992)

[node name="RayCast2D4" type="RayCast2D" parent="Sprite"]
position = Vector2(1, 7)
rotation = 4.71286
scale = Vector2(2.13316, -5.22006)
target_position = Vector2(-0.0227715, 19.7316)

[node name="RayCast2D2" type="RayCast2D" parent="Sprite"]
position = Vector2(-4, 7)
rotation = 2.04262
scale = Vector2(2.13316, -5.22006)
target_position = Vector2(-1.67405, 31.2658)

[node name="RayCast2D3" type="RayCast2D" parent="Sprite"]
position = Vector2(-4, 7)
rotation = 0.947313
scale = Vector2(2.13316, -5.22006)
target_position = Vector2(6.06346, 29.3655)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_3kmab")
}

[node name="ShootRadius" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ShootRadius"]
position = Vector2(41, -1)
shape = SubResource("RectangleShape2D_nlvb7")

[node name="HitBoxArea" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="HitBoxArea"]
position = Vector2(0, -1.5)
shape = SubResource("RectangleShape2D_w671d")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_1fp25")
anim_player = NodePath("../AnimationPlayer")
advance_expression_base_node = NodePath("")
active = true

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
[connection signal="body_entered" from="ShootRadius" to="." method="_on_shoot_radius_body_entered"]
[connection signal="body_exited" from="ShootRadius" to="." method="_on_shoot_radius_body_exited"]
